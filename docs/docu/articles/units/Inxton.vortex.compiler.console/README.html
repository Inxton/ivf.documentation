<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Inxton.vortex.compiler.console </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Inxton.vortex.compiler.console ">
    <meta name="generator" content="docfx 2.56.5.0">
    
    <link rel="shortcut icon" href="../../../../favicon.png">
    <link rel="stylesheet" href="../../../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../../../styles/docfx.css">
    <link rel="stylesheet" href="../../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../../toc">
    <meta property="docfx:tocrel" content="../../toc">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../../../index.html">
                <svg id="logo" class="svg" width="132px" height="26px" viewbox="0 0 132 26"><path d="M10.8.1L27.3 14V.5h5.9v25.6h-.7L16 11.7v13.9h-5.9v-10L12 13l-1.8-2.5V.1h.6zM50.5 13l8.7 12.9h-6.8l-5.3-8.2 3.4-4.7zM91.7.2c7.5 0 13.5 5.3 13.5 12.9s-6.1 12.8-13.5 12.8c-5.1 0-9.5-2.6-11.8-6.7l4.3-6.2-4.3-6.3c2.3-4 6.7-6.5 11.8-6.5zm17.2-.1L125.4 14V.5h5.9v25.6h-.7l-16.4-14.3v13.9h-5.9v-8.2l3.1-4.4-3.1-4.5V.1h.6zm-31 .6v3.1l-.1-.1V6h-6.2v19.5h-5.9V6h-6.3V.7h18.5zM5.5.1v25H0V.1h5.5zm37.2 0l1.7 2.7v18.9L42.2 25h-6.1l8.3-12.5-8-12.4h6.3zm49 5.6c-4.1 0-7.4 2.9-7.4 7.4s3.3 7.4 7.4 7.4c4 0 7.4-2.9 7.4-7.4-.1-4.4-3.4-7.4-7.4-7.4zM58.3.1l-8 12-3.1-4.6L52 0h6.3v.1z"></path></svg>
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
                
                <ul class="nav level1 navbar-nav">
                      <li>
                          <a href="../../../../docu/articles/intro.html" title="Articles">Articles</a>
                      </li>
                      <li>
                          <a href="../../../../docu/api/index.html" title="API reference">API reference</a>
                      </li>
                      <li>
                          <a href="../../../../docu/previous_versions/index.html" title="Previous Versions">Previous Versions</a>
                      </li>
                </ul>    </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div>
              <div class="sidefilter">
                <form class="toc-filter">
                  <span class="glyphicon glyphicon-filter filter-icon"></span>
                  <input type="text" id="toc_filter_input" placeholder="Enter here to filter..." onkeypress="if(event.keyCode==13) {return false;}">
                </form>
              </div>
              <div class="sidetoc">
                <div class="toc" id="toc">
                  
                  <ul class="nav level1">
                    <li class="">
                      <a href="../../intro.html" title="Introduction" class="">Introduction</a>
                    </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">How to</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../../howtos/recipes/recipes.html" title="Implement recipe management" class="">Implement recipe management</a>
                          </li>
                          <li class="">
                            <a href="../../howtos/influxdb/influxdb.html" title="Connect to a influx database" class="">Connect to a influx database</a>
                          </li>
                          <li class="">
                            <a href="../../howtos/invoke_csharp/invoke_csharp.html" title="Invoke C# from PLC" class="">Invoke C# from PLC</a>
                          </li>
                          <li class="">
                            <a href="../../units/Inxton.vortex.compiler.console/README.html#how-to-access-twincontroller" title="How to access TwinController" class="">How to access TwinController</a>
                          </li>
                          <li class="">
                            <a href="../../units/Inxton.vortex.compiler.console/Conceptual/DocumentationBlock.html" title="How to write documentation blocks" class="">How to write documentation blocks</a>
                          </li>
                          <li class="">
                            <a href="../../units/Inxton.vortex.compiler.console/Conceptual/IgnoringPartsOfCode.html" title="How to make Inxton compiler ignore unknown syntax" class="">How to make Inxton compiler ignore unknown syntax</a>
                          </li>
                          <li class="">
                            <a href="../../units/Inxton.Vortex.Connector/Conceptual/PrimitiveTwins.html" title="Cyclic, Synchronous and Batched access" class="">Cyclic, Synchronous and Batched access</a>
                          </li>
                          <li class="">
                            <a href="../../02essentials/getting_started/getting_started.html#how-to-generate-ui" title="How to generate UI" class="">How to generate UI</a>
                          </li>
                          <li class="">
                            <a href="https://docs.tcopengroup.org/articles/TcOpenFramework/How_to_include_tcopen_in_a_project/article.html" title="How to include TcOpen in your project &#128279;" class="">How to include TcOpen in your project &#128279;</a>
                          </li>
                          <li class="">
                            <a href="https://youtube.com/playlist?list=PL-0IxLiTmB6LbqE7npKFibLJwiX7pODzm" title="Video how tos &#128279;" class="">Video how tos &#128279;</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Core</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../../01core/getting_started/getting_started.html" title="Introduction" class="">Introduction</a>
                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Compiler</a>
                              
                              <ul class="nav level3">
                                <li class="active">
                                  <a href="../../units/Inxton.vortex.compiler.console/README.html" title="Intro to compiler" class="active">Intro to compiler</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.vortex.compiler.console/Conceptual/AddedProperties.html" title="Added Properties" class="">Added Properties</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.vortex.compiler.console/Conceptual/Attributes.html" title="Attributes" class="">Attributes</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.vortex.compiler.console/Conceptual/DocumentationBlock.html" title="Documentation Block" class="">Documentation Block</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.vortex.compiler.console/Conceptual/FakeComments.html" title="Fake Comments" class="">Fake Comments</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.vortex.compiler.console/Conceptual/IgnoringPartsOfCode.html" title="Ignoring Parts Of Code" class="">Ignoring Parts Of Code</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.vortex.compiler.console/Conceptual/TwinController.html" title="Twin Controller" class="">Twin Controller</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.vortex.compiler.console/Conceptual/TwinObjects.html" title="Twin Objects" class="">Twin Objects</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.vortex.compiler.console/Conceptual/Twins.html" title="Twins" class="">Twins</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Connector</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../units/Inxton.Vortex.Connector/README.html" title="About connector" class="">About connector</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.Vortex.Connector/Conceptual/PrimitiveTwins.html" title="Primitive Twins" class="">Primitive Twins</a>
                                </li>
                              </ul>  </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a class="">Essentials</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="../../02essentials/getting_started/getting_started.html" title="Introduction" class="">Introduction</a>
                          </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Rendering engine</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../units/Inxton.Vortex.Presentation.Wpf/README.html" title="Generating user interface" class="">Generating user interface</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.Vortex.Presentation.Wpf/how_it_works.html" title="How it works" class="">How it works</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.Vortex.Presentation.Wpf/presentation_types.html" title="Presentation types" class="">Presentation types</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Controls</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../units/Inxton.Vortex.Presentation.Controls.Wpf/README.html" title="Controls" class="">Controls</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <span class="expand-stub"></span>
                            <a class="">Styling your app</a>
                              
                              <ul class="nav level3">
                                <li class="">
                                  <a href="../../units/Inxton.Vortex.Presentation.Styling.Wpf/README.html" title="Styling your application" class="">Styling your application</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.Vortex.Presentation.Styling.Wpf/color_system.html" title="Color system" class="">Color system</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.Vortex.Presentation.Styling.Wpf/how_to_apply_styles.html" title="How to apply styles" class="">How to apply styles</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.Vortex.Presentation.Styling.Wpf/override_color.html" title="Override default colors" class="">Override default colors</a>
                                </li>
                                <li class="">
                                  <a href="../../units/Inxton.Vortex.Presentation.Styling.Wpf/buttons.html" title="Buttons" class="">Buttons</a>
                                </li>
                              </ul>  </li>
                          <li class="">
                            <a href="https://docs.tcopengroup.org/articles/Inxton/InxtonConventions.html" title="Conmponents convetions &#128279;" class="">Conmponents convetions &#128279;</a>
                          </li>
                        </ul>  </li>
                    <li class="">
                      <span class="expand-stub"></span>
                      <a href="https://docs.tcopengroup.org/" title="TcOpen &#128279;" class="">TcOpen &#128279;</a>
                        
                        <ul class="nav level2">
                          <li class="">
                            <a href="https://docs.tcopengroup.org/articles/TcOpenFramework/TcoCore/Introduction.html" title="Messaging, Logging, sequences &#128279;" class="">Messaging, Logging, sequences &#128279;</a>
                          </li>
                        </ul>  </li>
                  </ul>        </div>
              </div>
            </div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="inxtonvortexcompilerconsole">Inxton.vortex.compiler.console</h1>

<p>Inxton.vortex.compiler.console(compiler) is a Command line interface (CLI) implementation of Inxton.Vortex.Compiler that trans-piles TwinCat 3 PLC's program data into C# classes making the PLC's data accessible to .net environment in a structured way.</p>
<h2 id="compiler">Compiler</h2>
<h3 id="compilers-output-project-connectorproject">Compiler's output project <strong>ConnectorProject</strong></h3>
<p>Connector project is a C# library project that contains the mirror (twin) representation of the PLC.</p>
<p>Compiler outputs C# source code which is located in the solution folder '_Vortex/out/[PlcProjectName]/src/singles/'. The content of this folder is then linked to the project in your solution that follows this naming convention: <strong>[PlcProjectName]Connector</strong>. For example if your PLC project is named 'MyPlc' then the connector project must be named 'MyPlcConnector'.</p>
<h3 id="type-of-emitted-objects">Type of emitted objects</h3>
<p>Compiled entities are called <a href="Conceptual/Twins.html"><em>Twins</em></a>. There are three main groups of twin entities:</p>
<ul>
<li><p><a href="Conceptual/TwinController.html"><strong>Twin Controller</strong></a> represents mirror of PLC controller and it is the root entry point for all twin objects. The name of TwinController class is '[PlcProjectName]TwinController'.</p>
</li>
<li><p><a href="Conceptual/TwinObjects.html"><strong>Twin Object</strong></a> represent a twin of a complex PLC type (STRUCT, FB, PRG, GVL, ENUM, UNION). The representation type of TwinObject is simply BlockName.</p>
</li>
<li><p><a href="../Inxton.Vortex.Connector/Conceptual/PrimitiveTwins.html"><strong>Twin Primitive</strong></a> represents twin of a base/elementary PLC type (BOOL, BYTE, WORD, DWORD, INT, TIME, ..., DATE, DATE_TIME, ..., STRING, WSTRING etc) [more].</p>
</li>
</ul>
<h2 id="getting-more-from-the-compiler">Getting more from the compiler</h2>
<ul>
<li><a href="Conceptual/Attributes.html">Attributes</a> to enhance the capabilities twin objects.</li>
<li><a href="Conceptual/AddedProperties.html">Added Properties</a> to add properties to C# classes directly from PLC code.</li>
</ul>
<h2 id="troubleshooting-compiler">Troubleshooting compiler</h2>
<ul>
<li><a href="Conceptual/IgnoringPartsOfCode.html">Ignoring unknown syntax constructions</a></li>
<li><a href="Conceptual/FakeComments.html">Fake attribute commenting</a></li>
</ul>
<h2 id="specific-behavior">Specific behavior</h2>
<h3 id="case-sensitivity">Case sensitivity</h3>
<p>In contrast to TwinCat3 project, inxton compiler takes into account letter casing. Take this fact into consideration, in particular when declaring variables, extending types. Declarations with inconsistent letter casing are considered unknown.</p>
<h3 id="arrays">Arrays</h3>
<p>Compiler supports (uni-dimensional and multidimensional) arrays of which size is given by a <em>numerical literal</em> or a <em>constant</em> and is zero-based ([0..10] or [0..cMaxArraySize]). Arrays must be zero-based in order to maintain consistency with the C# code. Jagged arrays are not supported at this time.</p>
<h3 id="unknown-types">Unknown types</h3>
<p>Whenever the compiler encounters a type that is unknown, it will not transpile that variable or extending type into the twin.</p>
<p>Types implicitly known to the compiler are all primitive types, the types defined in the same project, and all those types that are added to the project as a library with its own .net twin library.</p>
<p>Type <code>ANY</code> and <code>BIT</code> are considered unknown at this time.</p>
<h3 id="namespaces">Namespaces</h3>
<p>For types defined in external libraries, it is necessary to use namespace when declaring variables or when extending a type.</p>
<p>The types external to the project must be declared with their respective namespace; otherwise, they are considered unknown.</p>
<h2 id="getting-started">Getting started</h2>
<p>The best way to get started with the compiler is to use examples form <a href="../../01core/getting_started/getting_started.html">Inxton.Package.Vortex.Core</a>.</p>
<h3 id="pre-requisites-check-here-please">Pre-requisites check <a href="../../common/PREREQUISITES.html">here</a> please</h3>
<h3 id="first-project">First project</h3>
<ol>
<li><p>Open Visual Studio</p>
</li>
<li><p>Create new <strong>TwinCAT Project</strong> (name it e.g. XAE)</p>
</li>
<li><p>Create new <strong>TwinCAT PLC project</strong> in TwinCAT project under <strong>PLC</strong> branch (name it e.g MainPlc)</p>
</li>
<li><p>Create new C# library project (from version v1.9.3 use <a href="https://docs.microsoft.com/en-us/dotnet/core/project-sdk/msbuild-props">NET SDK projects format</a>, netcore/netstadard) and name it {PlcProjectName}Connector (e.g. MainPlcConnector).</p>
</li>
<li><p>Add NuGet package Inxton.Vortex.Core to newly created C# library project. (this package contains the compiler and supporting libraries) <a href="https://www.nuget.org/packages/Inxton.Package.Vortex.Core">nuget</a>.</p>
<pre><code class="lang-PowerShell">    PM&gt; Install-Package Inxton.Package.Vortex.Core
</code></pre>
</li>
</ol>
<p>The solution is ready at this point.</p>
<p>Now there are two options to run the compiler:</p>
<h4 id="visual-studio-extension">Visual Studio Extension</h4>
<p>Inxton provides Visual Studio extension so builder is every time just one click away.
You can download Visual Studio Extension directly from <a href="https://marketplace.visualstudio.com/items?itemName=Inxton.InxtonVortexBuilderExtensionPre">Visual Studio marketplace</a>.</p>
<h5 id="to-install-extension-follow-easy-step-by-step-video-turorial-below">To install extension follow easy step by step video turorial below.</h5>
<p><a href="https://www.youtube.com/watch?v=seL77D0eykI&amp;feature=youtu.be" title="Run builder."><img src="https://img.youtube.com/vi/seL77D0eykI/0.jpg" alt="Video instruction here"></a></p>
<p>Or follow few easy installation steps <a href="../../common/ExtensionInstalation.html">here</a>.</p>
<h4 id="command-line-interface-cli">Command line interface (CLI)</h4>
<p>CLI can be used as an alternative. Run the compiler from the '_Vortex' folder in the solution folder. The '_Vortex' folder will be created when the <em>Inxton.Package.Vortex.Core</em> is installed.
Follwing lines of code have to be executed either in Windows command line or Powershell.</p>
<p><strong>Command line:</strong></p>
<pre><code class="lang-CMD">C:&gt; CD C:\[YourSolutionFolder]\_Vortex\
C:\[YourSolutionFolder]\_Vortex&gt; builder\vortex.compiler.console.exe
</code></pre>
<p><strong>Powershel:</strong></p>
<pre><code class="lang-PowerShell">PS C:\[YourSolutionFolder]\_Vortex&gt;
PS C:\[YourSolutionFolder]\_Vortex&gt; .\builder\vortex.compiler.console.exe
</code></pre>
<p><strong>Compiler options</strong></p>
<p>-c --config       file; defaults to 'vortex_config.json' from the current directory</p>
<p>-d --directives   compiler directives; defaults 'wpf+clr'</p>
<p>-o --output       sets output directory for source files; default is currentDirectory/out/</p>
<p>-p --publish      true/(default)false; in addition to clr twin compilation the plc library is compiled (files are places into Release configuration directory of the twinController project)</p>
<p>-q --quit_on_done true/(default)false; closes VS studion upon task completion</p>
<p>i --update_controller_version true/(default)false; updates the version of the plc library to match twins version info attribute located in twin connector projects' Property/AssemblyInfo.cs</p>
<p>-v                versbosity 'Info/Verbose/Warning/Debug' (default Info)</p>
<p>-b                builds twin connector projects</p>
<blockquote>
<p><strong style="color:orange">NOTE</strong>: <span style="color:orange">
Compiler collects strings from the PLC program that can be later localized.
This feature is available and will be documented soon.
At this point localization file needs to be modified inside PlcConnector project at location Properties/Localizations.resx.
Setting has to be performed only once in newly created project.
Please keep in mind that following is applicable only to .net framework project.</span></p>
</blockquote>
<p><strong style="color:orange">Please follow these simple steps:</strong>
<ol style="color:orange">
<li>Open Localizations.resx within Visual Studio.</li>
<li>Set *'Access modifier'* in the upper part of the editor to *'internal'*.</li>
</ol></p>
<p style="color:orange">Resources for localization will be generated as a result.</p>
<p><strong style="color:orange">Or follow simple video guide:</strong></p>
<p><a href="https://www.youtube.com/watch?v=K02ic222EE4&amp;feature=youtu.be" title="Video Title"><img src="https://img.youtube.com/vi/K02ic222EE4/0.jpg" alt="Video instruction here"></a></p>
<h3 id="how-to-access-twincontroller">How to access TwinController</h3>
<p>You can reference Connector project in any .net framework v4.8 project. Here is an example how to create an instance of TwinController and how to access variable.</p>
<pre><code class="lang-C#">// Creates an adapter for connecting to TwinCat 3 PLC with AMS ID '172.20.10.102.1.1' and port '851'
var adapter = Vortex.Adapters.Connector.Tc3.Adapter.Tc3ConnectorAdapter.Create(&quot;172.20.10.102.1.1&quot;, 851);

// Creates an instance of TwinController for 'Plc' project
var plc = new Plc.PlcTwinController();

// Starts operations with the TwinController.
plc.Connector.BuildAndStart();

// Accessing '_counter' variable from PRG 'MAIN'.
var counter = plc.MAIN._counter;

Console.WriteLine($&quot;{counter.Symbol}: '{counter.Cyclic}'&quot;);
</code></pre>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Inxton/ivf.documentation/blob/fixies/articles/units/Inxton.vortex.compiler.console/README.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <p>Generated by <strong>DocFX</strong> | Developed with <span style="color:red">❤</span> at <a href="https://www.mts.sk/en">MTS</a> - putting the heart into manufacturing.</p>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../../../styles/main.js"></script>
  </body>
</html>
